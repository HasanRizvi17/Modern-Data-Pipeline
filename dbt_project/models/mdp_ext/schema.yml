version: 2

models:

  - name: mdp_orders_ext
    description: extraction layer for orders data
    tags: ['test']
    columns:
      - name: order_id
        description: unique identifier of an order
        tests:
          - unique
          - not_null
      - name: customer_id
        description: unique identifier of a customer
        tests:
          - not_null

  - name: mdp_order_items_ext
    description: extraction layer for order items data
    tags: ['test']
    columns:
      - name: order_item_id
        description: unique identifier of an order item
        tests:
          - unique
          - not_null
      - name: order_id
        description: foreign key reference to orders
        tests:
          - not_null
      - name: product_id
        description: foreign key reference to products
        tests:
          - not_null
      - name: seller_id
        description: foreign key reference to sellers
        tests:
          - not_null

  - name: mdp_order_payments_ext
    description: extraction layer for order payments data
    columns:
      - name: order_id
        description: foreign key reference to orders
        tests:
          - not_null

  - name: mdp_order_reviews_ext
    description: extraction layer for order reviews data
    columns:
      - name: review_id
        description: unique identifier of a review
        tests:
          - not_null
      - name: order_id
        description: foreign key reference to orders
        tests:
          - not_null

  - name: mdp_customers_ext
    description: extraction layer for customers data
    columns:
      - name: customer_unique_id
        description: unique identifier of a customer
        tests:
          - unique
          - not_null
      - name: customer_id
        description: additional identifier of a customer (not unique)
        tests:
          - not_null

  - name: mdp_sellers_ext
    description: extraction layer for sellers data
    columns:
      - name: seller_id
        description: unique identifier of a seller
        tests:
          - unique
          - not_null

  - name: mdp_geolocation_ext
    description: extraction layer for geolocation data

  - name: mdp_products_ext
    description: extraction layer for products data
    columns:
      - name: product_id
        description: unique identifier of a product
        tests:
          - unique
          - not_null

  - name: mdp_product_category_name_translation_ext
    description: extraction layer for product category name translation data
    tags: ['lookup']
